{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Roster_up/rosterup-web/src/components/chat/ChatWindow.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { format } from \"date-fns\";\r\nimport { ArrowLeft, Loader2, Send } from \"lucide-react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { ChatUser, Conversation, Message } from \"./types\";\r\n\r\ninterface ChatWindowProps {\r\n  conversation: Conversation;\r\n  currentUser: ChatUser;\r\n}\r\n\r\nexport function ChatWindow({ conversation, currentUser }: ChatWindowProps) {\r\n  const { user } = useAuth();\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [sending, setSending] = useState(false);\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n  const supabase = createClient();\r\n\r\n  const otherUser = conversation.other_user;\r\n\r\n  useEffect(() => {\r\n    if (!conversation.id) return;\r\n\r\n    const fetchMessages = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"messages\")\r\n        .select(\"*\")\r\n        .eq(\"conversation_id\", conversation.id)\r\n        .order(\"created_at\", { ascending: true });\r\n\r\n      if (!error && data) {\r\n        setMessages(data);\r\n        setLoading(false);\r\n        scrollToBottom();\r\n      }\r\n    };\r\n\r\n    fetchMessages();\r\n\r\n    // Subscribe to new messages\r\n    const channel = supabase\r\n      .channel(`chat:${conversation.id}`)\r\n      .on(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"INSERT\",\r\n          schema: \"public\",\r\n          table: \"messages\",\r\n          filter: `conversation_id=eq.${conversation.id}`,\r\n        },\r\n        (payload) => {\r\n          setMessages((prev) => [...prev, payload.new as Message]);\r\n          scrollToBottom();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, [conversation.id, supabase]);\r\n\r\n  const scrollToBottom = () => {\r\n    setTimeout(() => {\r\n      if (scrollRef.current) {\r\n        scrollRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  const handleSend = async (e?: React.FormEvent) => {\r\n    e?.preventDefault();\r\n    if (!newMessage.trim() || !user || sending) return;\r\n\r\n    setSending(true);\r\n    try {\r\n      const { error } = await supabase.from(\"messages\").insert({\r\n        conversation_id: conversation.id,\r\n        sender_id: user.id,\r\n        content: newMessage.trim(),\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      setNewMessage(\"\");\r\n      // Optimistic update is handled by subscription, but we can clear input immediately\r\n    } catch (error) {\r\n      console.error(\"Error sending message:\", error);\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-full flex-col\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3 border-b border-white/10 p-4\">\r\n        <Button \r\n          variant=\"ghost\" \r\n          size=\"icon\" \r\n          className=\"md:hidden\" \r\n          onClick={() => window.history.back()}\r\n        >\r\n          <ArrowLeft className=\"h-5 w-5\" />\r\n        </Button>\r\n        <Avatar>\r\n          <AvatarImage src={otherUser?.avatar_url} />\r\n          <AvatarFallback>\r\n            {otherUser?.name?.substring(0, 2).toUpperCase() || \"??\"}\r\n          </AvatarFallback>\r\n        </Avatar>\r\n        <div>\r\n          <h3 className=\"font-semibold\">{otherUser?.name}</h3>\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            {otherUser?.type === \"team\" ? \"Team\" : \"Player\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <ScrollArea className=\"flex-1 p-4\">\r\n        <div className=\"flex flex-col gap-4\">\r\n          {loading ? (\r\n            <div className=\"flex justify-center py-4\">\r\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n            </div>\r\n          ) : (\r\n            messages.map((msg) => {\r\n              const isMe = msg.sender_id === user?.id;\r\n              return (\r\n                <div\r\n                  key={msg.id}\r\n                  className={cn(\r\n                    \"flex w-max max-w-[75%] flex-col gap-1 rounded-lg px-3 py-2 text-sm\",\r\n                    isMe\r\n                      ? \"self-end bg-primary text-primary-foreground\"\r\n                      : \"self-start bg-white/10\"\r\n                  )}\r\n                >\r\n                  <p>{msg.content}</p>\r\n                  <span className=\"self-end text-[10px] opacity-70\">\r\n                    {format(new Date(msg.created_at), \"HH:mm\")}\r\n                  </span>\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n          <div ref={scrollRef} />\r\n        </div>\r\n      </ScrollArea>\r\n\r\n      {/* Input */}\r\n      <div className=\"border-t border-white/10 p-4\">\r\n        <form onSubmit={handleSend} className=\"flex gap-2\">\r\n          <Input\r\n            value={newMessage}\r\n            onChange={(e) => setNewMessage(e.target.value)}\r\n            placeholder=\"Type a message...\"\r\n            className=\"bg-white/5\"\r\n            disabled={sending}\r\n          />\r\n          <Button type=\"submit\" size=\"icon\" disabled={sending || !newMessage.trim()}>\r\n            {sending ? (\r\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n            ) : (\r\n              <Send className=\"h-4 w-4\" />\r\n            )}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAXA;;;;;;;;;;;;AAmBO,SAAS,WAAW,EAAE,YAAY,EAAE,WAAW,EAAmB;IACvE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6JAAO;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,oOAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,oOAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oOAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oOAAQ,EAAC;IACvC,MAAM,YAAY,IAAA,kOAAM,EAAiB;IACzC,MAAM,WAAW,IAAA,mKAAY;IAE7B,MAAM,YAAY,aAAa,UAAU;IAEzC,IAAA,qOAAS,EAAC;QACR,IAAI,CAAC,aAAa,EAAE,EAAE;QAEtB,MAAM,gBAAgB;YACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,mBAAmB,aAAa,EAAE,EACrC,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAK;YAEzC,IAAI,CAAC,SAAS,MAAM;gBAClB,YAAY;gBACZ,WAAW;gBACX;YACF;QACF;QAEA;QAEA,4BAA4B;QAC5B,MAAM,UAAU,SACb,OAAO,CAAC,CAAC,KAAK,EAAE,aAAa,EAAE,EAAE,EACjC,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;YACP,QAAQ,CAAC,mBAAmB,EAAE,aAAa,EAAE,EAAE;QACjD,GACA,CAAC;YACC,YAAY,CAAC,OAAS;uBAAI;oBAAM,QAAQ,GAAG;iBAAY;YACvD;QACF,GAED,SAAS;QAEZ,OAAO;YACL,SAAS,aAAa,CAAC;QACzB;IACF,GAAG;QAAC,aAAa,EAAE;QAAE;KAAS;IAE9B,MAAM,iBAAiB;QACrB,WAAW;YACT,IAAI,UAAU,OAAO,EAAE;gBACrB,UAAU,OAAO,CAAC,cAAc,CAAC;oBAAE,UAAU;gBAAS;YACxD;QACF,GAAG;IACL;IAEA,MAAM,aAAa,OAAO;QACxB,GAAG;QACH,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,QAAQ,SAAS;QAE5C,WAAW;QACX,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;gBACvD,iBAAiB,aAAa,EAAE;gBAChC,WAAW,KAAK,EAAE;gBAClB,SAAS,WAAW,IAAI;YAC1B;YAEA,IAAI,OAAO,MAAM;YAEjB,cAAc;QACd,mFAAmF;QACrF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,iQAAC;QAAI,WAAU;;0BAEb,iQAAC;gBAAI,WAAU;;kCACb,iQAAC,+JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,OAAO,OAAO,CAAC,IAAI;kCAElC,cAAA,iQAAC,gPAAS;4BAAC,WAAU;;;;;;;;;;;kCAEvB,iQAAC,+JAAM;;0CACL,iQAAC,oKAAW;gCAAC,KAAK,WAAW;;;;;;0CAC7B,iQAAC,uKAAc;0CACZ,WAAW,MAAM,UAAU,GAAG,GAAG,iBAAiB;;;;;;;;;;;;kCAGvD,iQAAC;;0CACC,iQAAC;gCAAG,WAAU;0CAAiB,WAAW;;;;;;0CAC1C,iQAAC;gCAAE,WAAU;0CACV,WAAW,SAAS,SAAS,SAAS;;;;;;;;;;;;;;;;;;0BAM7C,iQAAC,2KAAU;gBAAC,WAAU;0BACpB,cAAA,iQAAC;oBAAI,WAAU;;wBACZ,wBACC,iQAAC;4BAAI,WAAU;sCACb,cAAA,iQAAC,+OAAO;gCAAC,WAAU;;;;;;;;;;mCAGrB,SAAS,GAAG,CAAC,CAAC;4BACZ,MAAM,OAAO,IAAI,SAAS,KAAK,MAAM;4BACrC,qBACE,iQAAC;gCAEC,WAAW,IAAA,4IAAE,EACX,sEACA,OACI,gDACA;;kDAGN,iQAAC;kDAAG,IAAI,OAAO;;;;;;kDACf,iQAAC;wCAAK,WAAU;kDACb,IAAA,kLAAM,EAAC,IAAI,KAAK,IAAI,UAAU,GAAG;;;;;;;+BAV/B,IAAI,EAAE;;;;;wBAcjB;sCAEF,iQAAC;4BAAI,KAAK;;;;;;;;;;;;;;;;;0BAKd,iQAAC;gBAAI,WAAU;0BACb,cAAA,iQAAC;oBAAK,UAAU;oBAAY,WAAU;;sCACpC,iQAAC,6JAAK;4BACJ,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,aAAY;4BACZ,WAAU;4BACV,UAAU;;;;;;sCAEZ,iQAAC,+JAAM;4BAAC,MAAK;4BAAS,MAAK;4BAAO,UAAU,WAAW,CAAC,WAAW,IAAI;sCACpE,wBACC,iQAAC,+OAAO;gCAAC,WAAU;;;;;qDAEnB,iQAAC,6NAAI;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9B"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///D:/Roster_up/rosterup-web/src/components/chat/ConversationList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { Loader2, MessageSquare } from \"lucide-react\";\r\nimport { Conversation } from \"./types\";\r\n\r\ninterface ConversationListProps {\r\n  conversations: Conversation[];\r\n  selectedId?: string;\r\n  onSelect: (id: string) => void;\r\n  loading?: boolean;\r\n}\r\n\r\nexport function ConversationList({\r\n  conversations,\r\n  selectedId,\r\n  onSelect,\r\n  loading,\r\n}: ConversationListProps) {\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex h-full items-center justify-center\">\r\n        <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (conversations.length === 0) {\r\n    return (\r\n      <div className=\"flex h-full flex-col items-center justify-center p-4 text-center text-muted-foreground\">\r\n        <MessageSquare className=\"mb-2 h-8 w-8 opacity-50\" />\r\n        <p>No conversations yet</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ScrollArea className=\"h-full\">\r\n      <div className=\"flex flex-col gap-1 p-2\">\r\n        {conversations.map((conversation) => {\r\n          const otherUser = conversation.other_user;\r\n          const isSelected = selectedId === conversation.id;\r\n\r\n          return (\r\n            <button\r\n              key={conversation.id}\r\n              onClick={() => onSelect(conversation.id)}\r\n              className={cn(\r\n                \"flex items-center gap-3 rounded-lg p-3 text-left transition-colors hover:bg-white/5\",\r\n                isSelected && \"bg-white/10\"\r\n              )}\r\n            >\r\n              <Avatar>\r\n                <AvatarImage src={otherUser?.avatar_url} />\r\n                <AvatarFallback>\r\n                  {otherUser?.name?.substring(0, 2).toUpperCase() || \"??\"}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"flex-1 overflow-hidden\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"font-semibold truncate\">\r\n                    {otherUser?.name || \"Unknown User\"}\r\n                  </span>\r\n                  {conversation.last_message_at && (\r\n                    <span className=\"text-xs text-muted-foreground\">\r\n                      {formatDistanceToNow(new Date(conversation.last_message_at), {\r\n                        addSuffix: true,\r\n                      })}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\r\n                  <span className=\"truncate\">\r\n                    {otherUser?.type === 'team' ? 'Team' : 'Player'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    </ScrollArea>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AANA;;;;;;;AAgBO,SAAS,iBAAiB,EAC/B,aAAa,EACb,UAAU,EACV,QAAQ,EACR,OAAO,EACe;IACtB,IAAI,SAAS;QACX,qBACE,iQAAC;YAAI,WAAU;sBACb,cAAA,iQAAC,+OAAO;gBAAC,WAAU;;;;;;;;;;;IAGzB;IAEA,IAAI,cAAc,MAAM,KAAK,GAAG;QAC9B,qBACE,iQAAC;YAAI,WAAU;;8BACb,iQAAC,4PAAa;oBAAC,WAAU;;;;;;8BACzB,iQAAC;8BAAE;;;;;;;;;;;;IAGT;IAEA,qBACE,iQAAC,2KAAU;QAAC,WAAU;kBACpB,cAAA,iQAAC;YAAI,WAAU;sBACZ,cAAc,GAAG,CAAC,CAAC;gBAClB,MAAM,YAAY,aAAa,UAAU;gBACzC,MAAM,aAAa,eAAe,aAAa,EAAE;gBAEjD,qBACE,iQAAC;oBAEC,SAAS,IAAM,SAAS,aAAa,EAAE;oBACvC,WAAW,IAAA,4IAAE,EACX,uFACA,cAAc;;sCAGhB,iQAAC,+JAAM;;8CACL,iQAAC,oKAAW;oCAAC,KAAK,WAAW;;;;;;8CAC7B,iQAAC,uKAAc;8CACZ,WAAW,MAAM,UAAU,GAAG,GAAG,iBAAiB;;;;;;;;;;;;sCAGvD,iQAAC;4BAAI,WAAU;;8CACb,iQAAC;oCAAI,WAAU;;sDACb,iQAAC;4CAAK,WAAU;sDACb,WAAW,QAAQ;;;;;;wCAErB,aAAa,eAAe,kBAC3B,iQAAC;4CAAK,WAAU;sDACb,IAAA,4LAAmB,EAAC,IAAI,KAAK,aAAa,eAAe,GAAG;gDAC3D,WAAW;4CACb;;;;;;;;;;;;8CAIN,iQAAC;oCAAI,WAAU;8CACb,cAAA,iQAAC;wCAAK,WAAU;kDACb,WAAW,SAAS,SAAS,SAAS;;;;;;;;;;;;;;;;;;mBA5BxC,aAAa,EAAE;;;;;YAkC1B;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///D:/Roster_up/rosterup-web/src/components/chat/ChatLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ChatWindow } from \"./ChatWindow\";\r\nimport { ConversationList } from \"./ConversationList\";\r\nimport { ChatUser, Conversation } from \"./types\";\r\n\r\nexport function ChatLayout() {\r\n  const { user, profile } = useAuth();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const selectedId = searchParams.get(\"c\");\r\n\r\n  const [conversations, setConversations] = useState<Conversation[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const supabase = createClient();\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    const fetchConversations = async () => {\r\n      // 1. Fetch conversations\r\n      const { data: convs, error } = await supabase\r\n        .from(\"conversations\")\r\n        .select(\"*\")\r\n        .or(`user1_id.eq.${user.id},user2_id.eq.${user.id}`)\r\n        .order(\"last_message_at\", { ascending: false });\r\n\r\n      if (error) {\r\n        console.error(\"Error fetching conversations:\", error);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // 2. Enrich with other user details\r\n      // This is the tricky part. We need to fetch profiles for each conversation partner.\r\n      const enrichedConversations = await Promise.all(\r\n        convs.map(async (conv) => {\r\n          const otherUserId = conv.user1_id === user.id ? conv.user2_id : conv.user1_id;\r\n          \r\n          // Try fetching from player_cards first\r\n          let otherUser: ChatUser | undefined;\r\n\r\n          const { data: playerData } = await supabase\r\n            .from(\"player_cards\")\r\n            .select(\"ign, player_id\") // Assuming player_id is the user id\r\n            .eq(\"player_id\", otherUserId)\r\n            .single();\r\n\r\n          if (playerData) {\r\n            otherUser = {\r\n              id: otherUserId,\r\n              name: playerData.ign,\r\n              type: 'player',\r\n            };\r\n          } else {\r\n            // Try fetching from teams (owner)\r\n            // Wait, teams table has owner_id. But we want the TEAM info usually?\r\n            // If I am chatting with a Team Owner, I want to see the Team Name.\r\n            const { data: teamData } = await supabase\r\n              .from(\"teams\")\r\n              .select(\"name, logo_url, owner_id\")\r\n              .eq(\"owner_id\", otherUserId)\r\n              .single();\r\n            \r\n            if (teamData) {\r\n              otherUser = {\r\n                id: otherUserId,\r\n                name: teamData.name,\r\n                avatar_url: teamData.logo_url || undefined,\r\n                type: 'team',\r\n              };\r\n            } else {\r\n              // Fallback if neither (maybe just a raw user profile if we had one)\r\n               otherUser = {\r\n                id: otherUserId,\r\n                name: \"Unknown User\",\r\n                type: 'player',\r\n              };\r\n            }\r\n          }\r\n\r\n          return { ...conv, other_user: otherUser };\r\n        })\r\n      );\r\n\r\n      setConversations(enrichedConversations);\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchConversations();\r\n\r\n    // Realtime subscription for new conversations or updates\r\n    const channel = supabase\r\n      .channel(\"conversations\")\r\n      .on(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"*\",\r\n          schema: \"public\",\r\n          table: \"conversations\",\r\n          filter: `user1_id=eq.${user.id}`, // Only works for one side in filter string usually? \r\n          // Supabase realtime filters with OR are tricky. \r\n          // We might just listen to all and filter in callback, or use two subscriptions.\r\n          // For simplicity, let's just refresh on any change to this table for now, \r\n          // or implement a smarter filter if possible.\r\n          // Actually, 'conversations' RLS should filter events? No, Realtime doesn't respect RLS by default unless enabled.\r\n          // We enabled Realtime for table.\r\n        },\r\n        () => {\r\n          fetchConversations();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, [user, supabase]);\r\n\r\n  const handleSelectConversation = (id: string) => {\r\n    router.push(`/messages?c=${id}`);\r\n  };\r\n\r\n  const selectedConversation = conversations.find((c) => c.id === selectedId);\r\n  const currentUser: ChatUser = {\r\n    id: user?.id || \"\",\r\n    name: profile?.user_type === 'player' ? 'Me' : 'My Team', // Simplified\r\n    type: profile?.user_type === 'player' ? 'player' : 'team',\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-4rem)] overflow-hidden rounded-xl border border-white/10 bg-white/5 backdrop-blur-md\">\r\n      {/* Sidebar List */}\r\n      <div className={cn(\r\n        \"w-full border-r border-white/10 md:w-80\",\r\n        selectedId ? \"hidden md:block\" : \"block\"\r\n      )}>\r\n        <div className=\"border-b border-white/10 p-4\">\r\n          <h2 className=\"text-lg font-semibold\">Messages</h2>\r\n        </div>\r\n        <ConversationList\r\n          conversations={conversations}\r\n          selectedId={selectedId || undefined}\r\n          onSelect={handleSelectConversation}\r\n          loading={loading}\r\n        />\r\n      </div>\r\n\r\n      {/* Chat Window */}\r\n      <div className={cn(\r\n        \"flex-1 flex-col\",\r\n        selectedId ? \"flex\" : \"hidden md:flex\"\r\n      )}>\r\n        {selectedConversation ? (\r\n          <ChatWindow\r\n            conversation={selectedConversation}\r\n            currentUser={currentUser}\r\n          />\r\n        ) : (\r\n          <div className=\"flex h-full items-center justify-center text-muted-foreground\">\r\n            Select a conversation to start chatting\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 648, "column": 0}, "map": {"version":3,"sources":["file:///D:/Roster_up/rosterup-web/src/app/%28dashboard%29/messages/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ChatLayout } from \"@/components/chat/ChatLayout\";\r\n\r\nexport default function MessagesPage() {\r\n  return (\r\n    <div className=\"h-full\">\r\n      <ChatLayout />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,iQAAC;QAAI,WAAU;kBACb,cAAA,iQAAC,yKAAU;;;;;;;;;;AAGjB"}}]
}