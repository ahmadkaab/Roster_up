{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/Roster_up/rosterup-web/src/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oNAAmB;AAI5B"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///D:/Roster_up/rosterup-web/src/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { Session, User } from \"@supabase/supabase-js\";\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\ntype Profile = {\r\n  id: string;\r\n  email: string;\r\n  full_name?: string;\r\n  user_type: \"player\" | \"team_admin\" | \"admin\";\r\n  avatar_url?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n};\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  session: Session | null;\r\n  profile: Profile | null;\r\n  loading: boolean;\r\n  signOut: () => Promise<void>;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [profile, setProfile] = useState<Profile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const supabase = createClient();\r\n\r\n  useEffect(() => {\r\n    // Get initial session\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n      setUser(session?.user ?? null);\r\n      if (session?.user) {\r\n        fetchProfile(session.user.id);\r\n      } else {\r\n        setLoading(false);\r\n      }\r\n    });\r\n\r\n    // Listen for auth changes\r\n    const {\r\n      data: { subscription },\r\n    } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session);\r\n      setUser(session?.user ?? null);\r\n      if (session?.user) {\r\n        fetchProfile(session.user.id);\r\n      } else {\r\n        setProfile(null);\r\n        setLoading(false);\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n  const fetchProfile = async (userId: string) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"*\")\r\n        .eq(\"id\", userId)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      setProfile(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching profile:\", error);\r\n      setProfile(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const signOut = async () => {\r\n    await supabase.auth.signOut();\r\n    setUser(null);\r\n    setSession(null);\r\n    setProfile(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, session, profile, loading, signOut }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;AAwBA,MAAM,4BAAc,IAAA,yOAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,oOAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oOAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oOAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oOAAQ,EAAC;IAEvC,MAAM,WAAW,IAAA,mKAAY;IAE7B,IAAA,qOAAS,EAAC;QACR,sBAAsB;QACtB,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YACpD,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,IAAI,SAAS,MAAM;gBACjB,aAAa,QAAQ,IAAI,CAAC,EAAE;YAC9B,OAAO;gBACL,WAAW;YACb;QACF;QAEA,0BAA0B;QAC1B,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YAC3C,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,IAAI,SAAS,MAAM;gBACjB,aAAa,QAAQ,IAAI,CAAC,EAAE;YAC9B,OAAO;gBACL,WAAW;gBACX,WAAW;YACb;QACF;QAEA,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QACT,MAAM;YAET,IAAI,OAAO,MAAM;YACjB,WAAW;QACb,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,WAAW;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,UAAU;QACd,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,QAAQ;QACR,WAAW;QACX,WAAW;IACb;IAEA,qBACE,iQAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAS;YAAS;QAAQ;kBACrE;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,sOAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}